{
  "name": "stop-trivia-e2e-tests",
  "version": "1.0.0",
  "description": "End-to-end tests for Stop Trivia React Native app",
  "main": "index.js",
  "scripts": {
    "test": "detox test",
    "test:ios": "detox test --configuration ios.sim.debug",
    "test:android": "detox test --configuration android.emu.debug",
    "test:ios-release": "detox test --configuration ios.sim.release",
    "test:android-release": "detox test --configuration android.emu.release",
    "build:ios": "detox build --configuration ios.sim.debug",
    "build:android": "detox build --configuration android.emu.debug",
    "build:ios-release": "detox build --configuration ios.sim.release",
    "build:android-release": "detox build --configuration android.emu.release",
    "clean": "detox clean-framework-cache && detox clean-framework-cache --configuration ios.sim.debug",
    "device:ios": "detox test --configuration ios.sim.debug --device-name 'iPhone 14'",
    "device:android": "detox test --configuration android.emu.debug --device-name 'Pixel_4_API_30'"
  },
  "devDependencies": {
    "detox": "^20.15.0",
    "jest": "^29.7.0",
    "ts-jest": "^29.1.1",
    "@types/jest": "^29.5.8"
  },
  "detox": {
    "test-runner": "jest",
    "runner-config": "e2e/jest.config.js",
    "configurations": {
      "ios.sim.debug": {
        "binaryPath": "ios/build/Build/Products/Debug-iphonesimulator/StopTrivia.app",
        "build": "xcodebuild -workspace ios/StopTrivia.xcworkspace -scheme StopTrivia -configuration Debug -sdk iphonesimulator -derivedDataPath ios/build",
        "type": "ios.simulator",
        "device": {
          "type": "iPhone 14"
        }
      },
      "ios.sim.release": {
        "binaryPath": "ios/build/Build/Products/Release-iphonesimulator/StopTrivia.app",
        "build": "xcodebuild -workspace ios/StopTrivia.xcworkspace -scheme StopTrivia -configuration Release -sdk iphonesimulator -derivedDataPath ios/build",
        "type": "ios.simulator",
        "device": {
          "type": "iPhone 14"
        }
      },
      "android.emu.debug": {
        "binaryPath": "android/app/build/outputs/apk/debug/app-debug.apk",
        "build": "cd android && ./gradlew assembleDebug assembleAndroidTest -DtestBuildType=debug",
        "type": "android.emulator",
        "device": {
          "avdName": "Pixel_4_API_30"
        }
      },
      "android.emu.release": {
        "binaryPath": "android/app/build/outputs/apk/release/app-release.apk",
        "build": "cd android && ./gradlew assembleRelease assembleAndroidTest -DtestBuildType=release",
        "type": "android.emulator",
        "device": {
          "avdName": "Pixel_4_API_30"
        }
      }
    }
  },
  "jest": {
    "preset": "ts-jest",
    "testEnvironment": "node",
    "testMatch": [
      "**/e2e/**/*.test.js"
    ],
    "testTimeout": 120000,
    "setupFilesAfterEnv": [
      "<rootDir>/e2e/setup.js"
    ],
    "verbose": true,
    "collectCoverage": false,
    "maxWorkers": 1,
    "forceExit": true,
    "detectOpenHandles": true
  }
}
